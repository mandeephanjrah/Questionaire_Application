<!DOCTYPE html>
<html ng-app="Questionaire">
    <head>
        <meta charset="utf-8" />
        <link rel="stylesheet" type="text/css" href="css/style.css">
         <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
   <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
  <script src="js/app.js"></script>
   <script src="js/controllers/StartController.js"></script>
    <script src="js/controllers/QuestionsController.js"></script>
    <script src="js/factories/Question_Metrics.js"></script>
    <script src="js/factories/dataservice.js"></script>

<!-- Startcontroller Area -->
  <title>Questionaire</title>
    </head>
    <body>
        <div class="container"  ng-controller="StartController as strt" ng-hide="strt.QsnMetrics.StartActive">
            <form>
                <h1 class="heading">Questionaire</h1>
                <div class="line"><label for="username">Name: </label>
                <input class="nice" type="text" id="username" required class="form-control" placeholder="Please enter your name" />
                </div>
               <div  class="line"><label for="role">Role:</label>
               <select id = "myList" class="form-control">
               <option value = "Vice President">Vice President</option>
               <option value = "General Manager">General Manager</option>
               <option value = "Team Lead">Team Lead</option>
             </select>
           </div>
         <br>
    <div>
        <button type="submit" class="btn btn-default pull-right" ng-click="strt.StartQuestionaire()">Start</button>  
        </div>
</form>
</div>

<!-- QuestionController Area-->
<div class="container">
        <div ng-controller="QuestionsController as qns" ng-show="qns.QsnMetrics.StartActive">
            <div class="row">
                <div class="col-xs-8">
                    <h2>Progress:</h2>
                    <div class="btn-toolbar">
                        <button class="btn"
                         ng-repeat="question in qns.DataService.questions"
                            ng-class="{'btn-info': question.selected !== null, 'btn-danger': question.selected === null}" ng-click='qns.setActiveQuestion($index)'>
                            <span class="glyphicon" ng-class="{'glyphicon-pencil': question.selected !==null, 'glyphicon-question-sign': 
                            question.selected ===null}">
                            </span>
                        </button>
                    </div>
                </div>
                <div class="col-xs-4">
                    <div class="row">
                        <h4>Legend:</h4>
                        <div class="col-sm-4">
                            <button class="btn btn-info">
                                <span class="glyphicon glyphicon-pencil"></span>
                            </button>
                            <p>Answered</p>
                        </div>
                        <div class="col-sm-4">
                            <button class="btn btn-danger">
                                <span class="glyphicon glyphicon-question-sign"></span>
                            </button>
                            <p>Unanswered</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- progress area -->
                 <div class="row">
                     <!-- for showing alert when user have not answered all of the questions --> 
                     <div class="alert alert-danger" ng-show="qns.error">
                        <strong>Error!</strong> You have not answered all of the questions.
                        <button class="close" ng-click= "qns.error = false">&times</button>
                        </div>
               <h3>Question:</h3>
                <div class="well well-sm" ng-hide="qns.finalise">
                    <div class="row">
                        <div class="col-xs-12">
                            <h4>{{qns.activeQuestion+1 + ". " + qns.DataService.questions[qns.activeQuestion].text}}</h4>
                            <div class="row">
                                <div class= "col-sm-6" ng-repeat= "answer in qns.DataService.questions
                                [qns.activeQuestion].possibilities">
                                <h4 class="answer" ng-class="{'btn-info': $index=== qns.DataService.questions[qns.activeQuestion].selected}"
                                ng-click="qns.selectAnswer($index)">
                                    {{answer.answer}}
                                    </h4>
                                </div>
                            </div>
                        </div>
                    </div>
                        <button class="btn btn-warning" ng-click="qns.questionAnswered()">Next</button>
                        </div>
                        <!-- for showing alert to submit result -->
                 <div class="well well-sm" ng-show="qns.finalise">
                    <div class="row">
                        <div class="col-xs-12">
                            <h3>Are you sure you want to submit your answers?</h3>
                            <button class="btn btn-success" ng-click="qns.finaliseAnswers()">Yes</button>
                            <button class="btn btn-danger" ng-click="qns.finalise = false">No</button>
                        </div>
                    </div>
                </div>


            </div>
         </div>

</body>
</html>

 